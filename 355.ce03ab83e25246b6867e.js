"use strict";(self.webpackChunktc_frontend=self.webpackChunktc_frontend||[]).push([[355],{1355:(e,r,a)=>{a.r(r),a.d(r,{AuthPage:()=>p,default:()=>g});var s=a(423);const n=(0,a(6540).lazy)(()=>Promise.all([a.e(577),a.e(578)]).then(a.bind(a,9578)));var o,t=a(5452),d=a(9901),i=a(6171);const l={isLoading:!1,username:(null===(o=(0,d.AJ)())||void 0===o?void 0:o.user)||"",password:"",error:""};(0,t.Z0)({name:"loginForm",initialState:l,reducers:{setUsername:(e,r)=>{e.username=r.payload},setPassword:(e,r)=>{e.password=r.payload},setError:(e,r)=>{e.error=r.payload}},extraReducers:e=>{e.addCase(i.t.pending,e=>{e.error="",e.isLoading=!0}).addCase(i.t.fulfilled,e=>{e.isLoading=!1,e.error=""}).addCase(i.t.rejected,(e,r)=>{e.isLoading=!1,e.error=r.payload})}});var c=a(9200),u=a(8036),m=a(4848);const p=()=>(0,m.jsx)(c.Y,{className:(0,s.cn)("",{},[]),children:(0,m.jsx)(u.S,{max:!0,hmax:!0,justify:"center",align:"center",children:(0,m.jsx)(n,{})})}),g=p},6171:(e,r,a)=>{a.d(r,{t:()=>o});var s=a(5452),n=a(9159);const o=(0,s.zD)("loginFormSlice/authMe",async(e,r)=>{try{const{api:a}=r.extra,s=(0,n.I)({username:e.username,password:e.password});if(console.log("response",s),!s)throw window.alert("Ошибка авторизации"),new Error("failed auth");return s}catch(e){return r.rejectWithValue("message"in e?e.message:"unknown error")}})},9159:(e,r,a)=>{a.d(r,{I:()=>n,d:()=>s});const s="LS_MOCK_AUTH_KEY",n=e=>{const r=localStorage.getItem(s),a=r?JSON.parse(r):null;if(a){const r=a[e.username];return r&&r.password===e.password&&r.token.includes("".concat(e.username,"-").concat(e.password))&&r.token}return!1};(()=>{const e=localStorage.getItem(s),r=e?JSON.parse(e):null;if(null===r||void 0===r.admin){const e={admin:{password:"admin",token:"sometokenforadmin-admin"}};localStorage.setItem(s,JSON.stringify(e))}})()}}]);